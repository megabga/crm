<% provide(:title, t("customers.index.title")) %>

<section id="navbar">

  <div class="navbar">
    <div class="navbar-inner">
      <div class="container" style="width: auto;">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
		<%= link_to t("customers.title"), "#", :class => "brand" %>
        <div class="nav-collapse">
          <ul class="nav">
			    <li class="active"><%= link_to t("customers.index.title"), customers_path %></li>
			    <li class=""><%= link_to t("customers.new.link"), new_customer_path %></li>
          </ul>
          
        </div><!-- /.nav-collapse -->
      </div>
    </div><!-- /navbar-inner -->
  </div><!-- /navbar -->

</section>



<div class="row">
	<div class="span9 offset1">
	  <%= form_tag customers_path, :class => "well form-search", :method => :get, :name => :search do  %>
		<fieldset>
		  <legend><%= t("customers.index.title") %></legend>
		  <div class="row">
			<div class="span4">
				
			  <div class="control-group">
	            <%= label_tag :name, t("helpers.label.customers.search.names"), :class => "control-label" %>
	            <div class="controls">
		          <%= text_field_tag :name, params[:name] %>
	            </div>
	          </div>
			  
			  <div class="control-group">
	            <%= label_tag :segment, t("helpers.label.customers.search.segment"), :class => "control-label" %>
	            <div class="controls">
		          <%= autocomplete_field_tag :segment, '', autocomplete_business_segment_name_customers_path, :size => 75, :id_element => '#segment_id' %>
				  <%= hidden_field_tag :segment_id %>
	            </div>
	          </div>

			  <div class="control-group">
	            <%= label_tag :activity, t("helpers.label.customers.search.activity"), :class => "control-label" %>
	            <div class="controls">
		          <%= autocomplete_field_tag :activity, '', autocomplete_business_activity_name_customers_path, :size => 75, :id_element => '#activity_id' %>
				  <%= hidden_field_tag :activity_id %>
	            </div>
	          </div>
	
				<div class="control-group">
		            <%= label_tag :bairro, t("helpers.label.customers.search.bairro"), :class => "control-label" %>
		            <div class="controls">
			          <%= search_field :customer, :bairro %>
		            </div>
		          </div>

				  <div class="control-group">
		            <%= label_tag :total_employes, t("helpers.label.customers.search.employes_count"), :class => "control-label" %>
		            <div class="controls">
			          <%= number_field_tag :total_employes %>
		            </div>
		          </div>
			   
			</div>
			<div class="span4">
				

				  <div class="control-group">
		            <%= label_tag :is_customer, t("helpers.label.customers.search.is_customer"), :class => "control-label" %>
		            <div class="controls">
			          <%= check_box_tag :is_customer, "y", params[:is_customer] %>
		            </div>
		          </div>
		
				  <!-- div class="control-group">
		            <%= label_tag :type, t("helpers.label.customers.search.type"), :class => "control-label" %>
		            <div class="controls">
			          <%= radio_button_tag :type, :fisica %> <%= label_tag :type_fisica, t("helpers.label.customers.search.type_fisica")  %>
			          <%= radio_button_tag :type, :juridica %> <%= label_tag :type_juridica, t("helpers.label.customers.search.type_juridica") %>
		            </div>
		          </div -->

				  <div class="control-group">
		            <%= label_tag :setor, t("helpers.label.customers.search.setor"), :class => "control-label" %>
		            <div class="controls">
			          <%= text_field_tag :setor %>
		            </div>
		          </div>
		
				  <div class="control-group">
		            <%= label_tag :cargo, t("helpers.label.customers.search.cargo"), :class => "control-label" %>
		            <div class="controls">
			          <%= text_field_tag :cargo %>
		            </div>
		          </div>

				  
			</div>
			
			<div class="span8">
				<div class="form-actions">
				<%= submit_tag t("helpers.label.customers.search.submit"), :class => "btn btn-primary" %>
	            <button type="reset" class="btn"><%= t("helpers.label.customers.search.cancel") %></button>
	          </div>
			</div>
		  </div>
		</fieldset>
	  <% end %>
	</div>
	
</div>

<% if @customers %>
<section id="buttons">
  <div class="page-header wehll">
	<%= t("search.results")%>
  </div>
  <table class="table table-bordered table-striped">
    <thead>
      <tr>
        <th><%= t("search.select") %></th>
        <th><%= t("customers.code") %></th>
        <th><%= t("customers.names") %></th>
        <th><%= t("customers.is_customer") %></th>
        <th><%= t("customers.enabled") %></th>
        <th><%= t("customers.complete") %></th>
        <th><%= t("helpers.forms.actions") %></th>
      </tr>
    </thead>
    <tbody>
	<% @customers.each do |c| %>
      <tr>
        <td><%= check_box_tag 'sels[]', c.id, @sels[c.id] %></td>
        <td><%= c.id %></td>
        <td><%= c.name %></td>
        <td><%= format_boolean c.is_customer %></td>
        <td><%= format_boolean c.enabled %></td>
        <td><%= format_boolean c.complete %></td>
        <td><%= link_to t("helpers.forms.show"), customer_path(c), :class => "btn" %></td>
      </tr>
    <% end %>
    </tbody>
  </table>
</section>
<% end %>